<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>onboarding</title>
</head>
<style>

</style>
<body>
    <div class="wrapper">
        <div class="leftpane">
            <div class="content">
                <div class="avatar-box">
                    <a href="/profile"><img src="images/standard_profile.jpg" alt="avatar image"></a>
                    <p>user name</p>
                </div>
                <button type="button" (click)="showAccount()">accountgegevens</button>
                <button type="button" (click)="showFamily()">familie beheren</button>
            </div>
            <div class="logout">
                <button type="button">Uitloggen</button>
            </div>

        </div>
        <div class="rightpane">
            @if (accountVisible) {
                <form [formGroup]="profileForm" (ngSubmit)="saveChanges()">
                    <label for="userName">Naam</label>
                    <input type="text" id="userName" formControlName="userName" required>

                    <label for="email">E-mail</label>
                    <input type="text" id="email" formControlName="email" required>

                    <button type="submit" [disabled]="profileForm.invalid">Wijzigingen opslaan</button>
                </form>

                <form [formGroup]="passwordForm" (ngSubmit)="saveNewPassword()">
                    <h2>Wachtwoord</h2>

                    <label for="currentPassword">Huidig wachtwoord</label>
                    <input type="password" id="currentPassword" formControlName="currentPassword" required>

                    <label for="newPassword">Nieuw wachtwoord</label>
                    <input type="password" id="newPassword" formControlName="newPassword" required>
                    
                    <label for="repeatPassword">Nieuw wachtwoord herhalen</label>
                    <input type="password" id="repeatPassword" formControlName="repeatPassword" required>

                    @if (currentPasswordError()) {
                        <p style="color: red;">Huidig wachtwoord is incorrect.</p>
                    }

                    @if (passwordMatchError()) {
                        <p style="color: red;">Wachtwoorden komen niet overeen.</p>
                    }

                    <button type="submit" [disabled]="passwordForm.invalid">Wijzigingen opslaan</button>
                </form>
            }
            @else if (familyVisible) {
                <h2>Familie beheren</h2>
            }

        </div>
    </div>

</body>
</html>
